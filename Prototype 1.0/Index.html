<!DOCTYPE html>
<html>
    <head>
        <script src="js/jquery-3.5.1.min.js"></script>
        <script src="js/app.js"></script>
        <script src="js/slides.js"></script>
        <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet'>
        
        <link href='css/style.css' type="text/css" rel='stylesheet'>
         <link href='css/app.css' rel='stylesheet'>
        <link href='css/slideStyles.css' rel='stylesheet'>
        
        <style>
            h1 {
                font-family: 'Oswald';
            }
            h2 {
                font-family: 'Oswald';
            }
            h3 {
                font-family: 'Oswald';
            }
            p {
                font-family: 'Consolas';
            }
        
        </style>
        
        <script>
            
            $("document").ready(function() {
                
               
                
                function addSteder(){
                        $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/museums.json", success: function(result){
                        museums = JSON.parse(result)
                         for(var i = 0; i <museums.length;i++){
                             $("#ContentBox").append(`<div class="contentBlock stedBlock" id="${museums[i].id}" style='background-color:rgb(${museums[i].farve});'> <img src="${museums[i].billede}"> <div class="Txt"> <h2>${museums[i].navn} </h2> <p> ${museums[i].beskrivelse} </div> </div>`);
                             
                    }
                }})};
                function addEvents(){
                    $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/events.json", success: function(result){
                        events = JSON.parse(result)
                         for(var i = 0; i <events.length;i++){
                             $("#ContentBox").append(`<div class="contentBlock eventBlock" id="${events[i].id}" style='background-color:rgb(${events[i].farve});'> <img src="${events[i].billede}"> <div class="Txt"> <h2>${events[i].navn} </h2> <p> ${events[i].beskrivelse} </div> </div>`);
                             
                    }
                }
                })};
                function addEmner(){
                    $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/emner.json", success: function(result){
                        emner = JSON.parse(result)
                         for(var i = 0; i <emner.length;i++){
                             $("#ContentBox").append(`<div class="contentBlock emneBlock" id="${emner[i].id}" style='background-color:rgb(${emner[i].farve});'> <img src="${emner[i].billede}"> <div class="Txt"> <h2>${emner[i].navn} </h2> <p> ${emner[i].beskrivelse} </div> </div>`);
                             
                    }
                }
                })};
                
                function addVærker(){
                    $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/v%C3%A6rker.json", success: function(result){
                        Værker = JSON.parse(result)
                         for(var i = 0; i <Værker.length;i++){
                             $("#ContentBox").append(`<div class="contentBlock værkBlock" id="${Værker[i].id}" style='background-color:rgb(${Værker[i].farve});'> <img src="${Værker[i].billede}"> <div class="Txt"> <h2>${Værker[i].navn} </h2> <p> ${Værker[i].beskrivelse} </div> </div>`);
                             
                    }
                }
                })};
                
                
                function stedPage(sted){
                    
                    $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/museums.json", success: function(result){
                            museums = JSON.parse(result);
                            var stedP;
                            $("#ContentBox").empty();
                            for(var i = 0; i <museums.length;i++){
                                    if (museums[i].id == $(sted).attr("id")){
                                        stedP = museums[i];
                                    }
                                }   
                            $("#ContentBox").append(`
                                <div style="background-color:rgb(${stedP.farve}); color:white">
                                    <img src="${stedP.billede}">
                                    <h3>Adresse</h3>
                                    <p></p>
                                    <h3>Entrepriser</h3>
                                    <p></p>
                                    <h3>Generelle Åbningstider</h3>
                                    <p></p>
                                    <h3>Website</h3>
                                    <p></p>
                                </div>
                                <div> 
                                    <h2>${stedP.navn}</h2>
                                    <p>${stedP.beskrivelse} </p>
                                </div>
                                <div>
                                    <h2>Udstillinger</h2>
                                </div>
                                `
                                );
                                
                                var udstillinger = [];
                                $("#ContentBox").append("<div class = 'slideBox' id ='museumSlide'></div>");
                                $("#ContentBox").append("<div class = 'dotBox' id='museumDot' style='text-align:center'></div>");
                                
                               $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/events.json", success: function(result){
                                    events = JSON.parse(result)
                                    count = 0;
                                    for (var i = 0; i < events.length;i++){
                                        if (events[i].sted == stedP.id){
                                            udstillinger.push(events[i])
                                            count +=1;
                                            $("#museumSlide").append(`
                                                <div class="mySlides1 fade eventBlock" id ="${events[i].id}">
                                                    <img src="${events[i].billede}" style="width:100%">
                                                    <div class= "slideTextBox" style="background-color:rgb(${events[i].farve}">
                                                        <div class="capText">Caption Text</div>
                                                    </div>
                                                </div>
                                            `);
                                            
                                            $("#museumDot").append(`
                                                <span class="dot1" onclick="currentSlide(1,${count})"></span>
                                            `);
                                            
                                        }
                                    }
                                   $("#museumSlide").append(`
                                    <a class='prev' onclick='plusSlides(1,-1)'>&#10094;</a>
                                    <a class='next' onclick='plusSlides(1,1)'>&#10095;</a>
                                    `)
                                   showSlides(1, slideIndex[0])
                                   
                                }})
                            $("#ContentBox").append(`
                                <div>
                                    <h2>Lignende Steder</h2>
                                </div>
                                <div class = 'slideBox' id ='relateredeSlide'></div>
                                <div class = 'dotBox' id='relateredeDot' style='text-align:center'></div>
                            `);
                            var count = 0;
                            var added = []
                            for(var i = 0; i <museums.length;i++){
                                tempMuseum = museums[i];
                                for(var p =0; p < tempMuseum.type.length;p++){
                                    if (stedP.type.includes(tempMuseum.type[p]) && tempMuseum.id != stedP.id && !added.includes(tempMuseum.id)){
                                        count += 1;
                                        added.push(tempMuseum.id);
                                            $("#relateredeSlide").append(`
                                                <div class="mySlides2 fade stedBlock" id ="${tempMuseum.id}">
                                                    <img src="${tempMuseum.billede}" style="width:100%">
                                                    <div class= "slideTextBox" style="background-color:rgb(${tempMuseum.farve}">
                                                        <div class="capText" style="color:white">
                                                            <h3>${tempMuseum.navn}</h3>
                                                            <p>${tempMuseum.beskrivelse}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            `);
                                            
                                            $("#eventDot").append(`
                                                <span class="dot2" onclick="currentSlide(1,${count})"></span>
                                            `);
                                    }
                                }
                                }
                            $("#relateredeSlide").append(`
                                    <a class='prev' onclick='plusSlides(2,-1)'>&#10094;</a>
                                    <a class='next' onclick='plusSlides(2,1)'>&#10095;</a>
                                    `)
                                showSlides(2, slideIndex[1])
                            }  
                          });
                }
                
                
                
                
                function emnePage(emne){
                    
                    $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/emner.json", success: function(result){
                            emner = JSON.parse(result);
                            var emneP;
                            $("#ContentBox").empty();
                            for(var i = 0; i <emner.length;i++){
                                    if (emner[i].id == $(emne).attr("id")){
                                        emneP = emner[i];
                                    }
                                }   
                            $("#ContentBox").append(`
                                <div style="background-color:rgb(${emneP.farve}); color:white">
                                    <img src="${emneP.billede}">
                                    
                                </div>
                                <div> 
                                    <h2>${emneP.navn}</h2>
                                    <p>${emnePP.beskrivelse} </p>
                                </div>
                                <div>
                                    
                                </div>
                                `
                                );
                       
                            }  
                          });
                }
                function eventPage(event){
                    
                    $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/events.json", success: function(result){
                            events = JSON.parse(result);
                            var eventP;
                            $("#ContentBox").empty();
                            for(var i = 0; i <events.length;i++){
                                    if (events[i].id == $(event).attr("id")){
                                        eventP = events[i];
                                    }
                            }   
                            $("#ContentBox").append(`
                                <div style="background-color:rgb(${eventP.farve}); color:white">
                                    <img src="${eventP.billede}">
                                    <h3>Tidspunkt</h3>
                                    <p></p>
                                    <h3>Lokation</h3>
                                    <p></p>
                                    <h3>Website</h3>
                                    <p></p>
                                </div>
                                <div> 
                                    <h2>${eventP.navn}</h2>
                                    <p>${eventP.beskrivelse} </p>
                                </div>
                                <div>
                                    <h2>Relaterede Events eller udstillinger</h2>
                                </div>
                                `
                                );
                        
                                $("#ContentBox").append("<div class = 'slideBox' id ='eventSlide'></div>");
                                $("#ContentBox").append("<div class = 'dotBox' id='eventDot' style='text-align:center'></div>");
                                var count = 0;
                                var added = [];
                                for(var i = 0; i <events.length;i++){
                                    tempEvent = events[i];
                                    
                                    for (var p=0; p <tempEvent.type.length;p++){
                                        if (eventP.type.includes(tempEvent.type[p]) && tempEvent.id != eventP.id && !added.includes(tempEvent.id)){
                                            count += 1;
                                            added.push(tempEvent.id);
                                            $("#eventSlide").append(`
                                                <div class="mySlides1 fade eventBlock" id ="${tempEvent.id}">
                                                    <img src="${tempEvent.billede}" style="width:100%">
                                                    <div class= "slideTextBox" style="background-color:rgb(${tempEvent.farve}">
                                                        <div class="capText" style="color:white">
                                                            <h3>${tempEvent.navn}</h3>
                                                            <p>${tempEvent.beskrivelse}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            `);
                                            
                                            $("#eventDot").append(`
                                                <span class="dot1" onclick="currentSlide(1,${count})"></span>
                                            `);
                                        }
                                    }
                                }
                                $("#eventSlide").append(`
                                    <a class='prev' onclick='plusSlides(1,-1)'>&#10094;</a>
                                    <a class='next' onclick='plusSlides(1,1)'>&#10095;</a>
                                    `)
                                showSlides(1, slideIndex[0])
                        
                        
                                $("#ContentBox").append(`
                                    <div>
                                        <h2>Lokation</h2>
                                    </div>
                                `);
                        
                                $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/museums.json", success: function(result){
                                    museums = JSON.parse(result)
                                    var lokation;
                                    for (var i = 0; i < museums.length;i++){
                                        if (museums[i].id == eventP.sted){
                                            lokation = museums[i];
                                        }
                                    }
                                                                                
                                    $("#ContentBox").append(`
                                     <div class="stedBlock" id="${lokation.id}">
                                        <img src="${lokation.billede}" style="width:100%">
                                        <div class= "slideTextBox" style="background-color:rgb(${lokation.farve}">
                                            <div class="capText" style="color:white">
                                                <h3>${lokation.navn}</h3>
                                                <p>${lokation.beskrivelse}</p>
                                            </div>
                                         </div>
                                     </div>
                                    `);    
                                   
                                }})  
                       
                            }  
                          });
                }
                function værkPage(værk){
                    
                    $.ajax({url:"https://raw.githubusercontent.com/MrSteiner/2SemesterProjekt/master/Prototype%201.0/json/v%C3%A6rker.json", success: function(result){
                            Værker = JSON.parse(result);
                            var værkP;
                            $("#ContentBox").empty();
                            for(var i = 0; i <Værker.length;i++){
                                    if (Værker[i].id == $(værk).attr("id")){
                                        værkP = Værker[i];
                                    }
                                }   
                            $("#ContentBox").append(`<div><img src="${værkP.billede}"></div>`)
                       
                            }  
                          });
                }
                
                
                   
                
                
                addSteder();
                    
                $(".menuButton").on("click",function(){
                    $(".menuButton").removeClass("selected");
                    $(this).addClass("selected");
                    $("#ContentBox").empty();
                    console.log("oof");
                });
                
                $("#Steder").on("click",function(){;
                addSteder();
                window.scrollTo(0, 0);                                    
                });
        
                $("#Events").on("click",function(){;
                addEvents();
                window.scrollTo(0, 0); 
                });
                
                $("#Emner").on("click",function(){;
                addEmner();
                window.scrollTo(0, 0); 
                });
                
                $("#Værker").on("click",function(){;
                addVærker();
                window.scrollTo(0, 0); 
                });
        
                
                $("#ContentBox").on("click",".stedBlock",function(){;
                    console.log(this)
                    stedPage(this);
                    window.scrollTo(0, 0); 
                });
                $("#ContentBox").on("click",".emneBlock",function(){;
                    console.log(this)
                    emnePage(this);
                    window.scrollTo(0, 0); 
                });
                $("#ContentBox").on("click",".eventBlock",function(){;
                    console.log(this)
                    eventPage(this);
                    window.scrollTo(0, 0); 
                });
                $("#ContentBox").on("click",".værkBlock",function(){;
                    console.log(this)
                    værkPage(this);
                    window.scrollTo(0, 0); 
                });
                
            });
        
        </script>
        
    </head>
    
    
    <body>
        <div id="MenuBar" >
            <div class="menuButton"> 
                <h1 id="Steder"> STEDER</h1>
            </div>
            <div class="menuButton"> 
                <h1 id="Emner"> EMNER</h1>
            </div>
            <div class="menuButton"> 
                <h1 id="Events"> EVENTS</h1>
            </div>
            <div class="menuButton"> 
                <h1 id="Værker"> VÆRKER</h1>
            </div>
        </div>
        
        
        <div id="ContentBox">
        
        
        
        
        </div>

    </body>
</html>